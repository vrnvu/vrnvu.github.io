<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="light dark" name=color-scheme><title>how to fix a monolith</title><meta name=description><link href=/img/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/img/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/img/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://fonts.googleapis.com rel=preconnect><link href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&family=Jost&display=swap" rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css rel=stylesheet><link href=/css/var.css rel=stylesheet><link href=/css/base.css rel=stylesheet><link href=/css/header.css rel=stylesheet><link href=/css/footer.css rel=stylesheet><link href=/css/post.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-XQFJ3LKRH8" async></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-XQFJ3LKRH8');</script><body><script>if(localStorage.getItem('theme')=='dark'){document.body.classList.add('dark-mode');}</script><header class=blur><div class=top><a class="header blog" href=/blog><i class="ri-terminal-box-line ri-2x"></i><span>Blog</span></a><a class=back href=/><i class="ri-arrow-left-s-line ri-1x"></i><span>Home</span></a><div class=icon><a aria-label=home href=/ id=go-home><i class="ri-user-6-line ri-xl"></i></a><a aria-label="rss feed" href=/blog/atom.xml><i class="ri-rss-line ri-xl"></i></a><button aria-label="dark light mode switch" id=color-toggle><i class="ri-moon-line ri-xl"></i></button><button aria-label="table of content" id=toc-toggle><i class="ri-menu-2-line ri-xl"></i></button></div></div><div id=progress-bar></div></header><div class=wrap><div class=blank></div><main><div id=top></div><article><h1>how to fix a monolith</h1><div id=post-info><div class=date><span id=publish>2023-04-11</span></div><div class=tags><a class=tag href=https://www.arnaudiaz.com/tags/programming><i class="ri-hashtag ri-sm"></i><span>programming</span></a></div></div><hr><h1 id=how-to-fix-a-monolith>how to fix a monolith</h1><p>When it comes to improving the performance of your monolithic application, the number of users is not as important as the amount of traffic they generate. For example, some products can have fewer users but generate more traffic than others with a larger user base. Therefore, it's crucial to consider the requests and traffic your monolith receives.<p>To enhance your application's performance and efficiency, you need to identify bottlenecks and problematic functionalities. This involves monitoring the application to determine:<ul><li>The functionalities that receive the most traffic<li>The functionalities that block the most CPU time<li>The functionalities that require the most memory</ul><h2 id=redesign>redesign</h2><p>After identifying bottlenecks and problems, the next step is to redesign the product accordingly. This may involve breaking down the monolith into microservices that can scale independently, and considering traffic patterns to ensure optimal performance. Evaluate whether certain functionalities can be split or merged when redesigning the backend. By addressing these issues, you can enhance the product's performance, efficiency, and reduce costs.<p>For example, if you identify that a bottleneck is one functionality that is composed of two operations, you can start by splitting it into two. By doing this, you can scale both operations horizontally instead of having one, allowing you to better manage traffic and reduce the impact of high traffic on your system. This approach can also help you address the issue of load imbalances, where some servers or resources may be overloaded while others are underutilized.<h2 id=user-impact>user impact</h2><p>To create a better backend, it's important to focus on the operational level, not just the service level. Each operation can have a varying number of requests, but their impact, measured by the ratio of errors, may differ significantly.<ul><li>Operation A: 10,000 requests with 10 failures - error rate is 0.1%<li>Operation B: 100 requests with 10 failures - error rate is 10%<li>Operation C: 100 requests with 50 failures - error rate is 50%</ul><p>If these requests are in the same service, the initial requests may hide the true error rate of your service, making it appear to have an error rate of 0.03%. Therefore, it's critical to analyze the impact of each operation and prioritize them accordingly.<p>Focus on the operations that have the biggest impact on user experience, not just the ones that happen most often. For instance, if a manual step in a process is crucial, users may have a bad experience if it fails, even if it's not done often. On the other hand, an operation with lots of requests that rarely fails may not affect the user experience, even if it has a high error rate. So, prioritize critical operations based on their impact, not just how often they're used.<h2 id=conclusion>conclusion</h2><p>To make a monolithic application perform better, focus on finding bottlenecks and problems. Check the traffic patterns and see what needs fixing. Then, redesign the app by breaking it down into smaller services or changing how the functions work. Also, prioritize critical tasks that impact the user experience. By doing these things, you can make the app run better, save money, and make users happy.</article></main><aside class=blur><nav><ul><li><a class=toc-h2 href=#how-to-fix-a-monolith>how to fix a monolith</a> <ul><li><a class=toc-h3 href=#redesign>redesign</a><li><a class=toc-h3 href=#user-impact>user impact</a><li><a class=toc-h3 href=#conclusion>conclusion</a></ul></ul></nav><a aria-label="back to top" href=#top id=back-to-top><i class="ri-arrow-up-s-line ri-2x"></i></a></aside></div><footer><div class=copyright>i don't believe in copyright</div></footer><script src=/js/dark.js></script><script src=/js/toc.js></script><script src=/js/progress.js></script><script src=/js/lightense.min.js></script><script src=/js/img.js></script>